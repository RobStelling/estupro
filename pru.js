function botaoISP(t,e,l,i,n,o,s,c){var a="",r="black";t.append("rect").attr("rx",10).attr("ry",10).attr("height",30).attr("width",70).attr({"class":s,transform:"translate("+e+","+l+")"}),t.append("g").attr("class","tituloISP").attr("transform","translate("+(e+11)+","+(l+22)+")").append("text").attr("class","isp").text(i),t.append("rect").attr("rx",10).attr("ry",10).attr("height",30).attr("width",70).attr({"class":"invisivel",transform:"translate("+e+","+l+")"}).on("mouseover",function(){var t=d3.select("."+s),e=d3.select("div.myTip");return a=t.style("fill"),t.style({fill:r}),e.html(n),cl.tooltip.style("visibility","visible")}).on("mousemove",function(){return cl.tooltip.style("top",d3.event.pageY-20+"px").style("left",d3.event.pageX+25+"px")}).on("mouseout",function(){var t=d3.select("."+s);return t.style({fill:a}),cl.tooltip.style("visibility","hidden")}).on("click",function(){return c.call(),cl.titulo(o),cl.tooltip.style("visibility","hidden")})}function lupa(t,e,l){var n,o,s;d3.select(".x.axis");n=["Clique para ampliar texto do eixo X","Click to activate X axis tooltip"][lang],o=["Clique para cancelar ampliação","Click to cancel tooltip"][lang],s=n,t.append("circle").attr({cx:String(e),cy:String(l),r:"10","class":"lupa"}).style({fill:"none",stroke:"black"}).style("stroke-width","3px"),t.append("line").attr({x1:String(e-9),y1:String(l+9),x2:String(e-20),y2:String(l+20),fill:"black",stroke:"black","class":"lupa"}).style("stroke-width","3px"),t.append("rect").attr({x:String(e-20),y:String(l-12),height:String(32),width:String(32),"class":"invisivel lupa"}).on("mouseover",function(){var t=d3.select("div.myTip");return hist.clicou()?t.html(o):t.html(n),d3.select(),cl.tooltip.style("visibility","visible")}).on("mousemove",function(){return cl.tooltip.style("top",d3.event.pageY-20+"px").style("left",d3.event.pageX+25+"px")}).on("mouseout",function(){return cl.tooltip.style("visibility","hidden")}).on("click",function(){if(hist.clicou())return void cancelaLupa();selecionaLupa(),hist.clicou(!0);var t,e;return d3.select(".x.axis").selectAll(".tick").on("mouseover",function(){var l=d3.select("div.myTip"),n=this.textContent;if(l.html(n),"aisp"==cl.status)e=d3.select("#H"+n.replace(/.* 0*/,""));else{for(i in cl.nomeDP)if(n==cl.nomeDP[i].up)break;e=d3.select("#H"+i)}return t=e.style("fill"),e.style("fill","steelblue"),cl.tooltip.style("visibility","visible")}).on("mousemove",function(){return cl.tooltip.style("top",d3.event.pageY-20+"px").style("left",d3.event.pageX+25+"px")}).on("mouseout",function(){return e.style("fill",t),cl.tooltip.style("visibility","hidden")}),cl.tooltip.style("visibility","hidden")})}function selecionaLupa(){d3.select("circle.lupa").style("fill","steelblue"),hist.clicou(!0)}function cancelaLupa(){d3.select("circle.lupa").style("fill","none"),d3.select(".x.axis").selectAll(".tick").on("mouseover",null).on("mousmove",null).on("mouseout",null),hist.clicou(!1)}